---
import { getCollection } from 'astro:content';
import ContentList from '../../components/content/ContentList.astro';
import ListLayout from '../../layouts/ListLayout.astro';
import { getEntrySlugs } from '../../services/content-slug';

const quizzes = (await getCollection('quiz')).sort((a, b) => {
  const numA = parseInt(a.data.title.match(/\d+/)?.[0] ?? '0');
  const numB = parseInt(b.data.title.match(/\d+/)?.[0] ?? '0');
  return numB - numA;
});

const quizSlugMap = getEntrySlugs(quizzes);
---

<ListLayout
  pageTitle="Quiz - Bridge mit Alexander"
  title="Quiz"
  intro="Testen Sie Ihr Bridge-Wissen mit unseren Fragen"
  maxWidth="max-w-3xl"
  isEmpty={quizzes.length === 0}
>
  <ContentList items={quizzes} slugMap={quizSlugMap} showArrow={true} />
</ListLayout>
